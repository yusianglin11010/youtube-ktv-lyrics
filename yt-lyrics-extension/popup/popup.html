<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube KTV Lyrics</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="popup-container">
        <!-- Ê®ôÈ°åÂçÄ -->
        <header class="header">
            <h1>üé§ KTV Ê≠åË©û</h1>
            <div class="toggle-wrapper">
                <label class="toggle">
                    <input type="checkbox" id="enableToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </header>

        <!-- ÁãÄÊÖãÂçÄ -->
        <section class="status-section">
            <div id="statusMessage" class="status-message">
                <span class="status-icon">‚è≥</span>
                <span class="status-text">Ê™¢Êü•‰∏≠...</span>
            </div>
            <div id="videoInfo" class="video-info hidden">
                <div class="video-title" id="videoTitle"></div>
            </div>
        </section>

        <!-- ‰∏äÂÇ≥ÂçÄ -->
        <section class="upload-section">
            <label class="upload-btn" for="subtitleFile">
                <span class="upload-icon">üìÅ</span>
                <span>‰∏äÂÇ≥Â≠óÂπïÊ™îÊ°à</span>
            </label>
            <input type="file" id="subtitleFile" accept=".txt" hidden>
            <div id="uploadStatus" class="upload-status hidden"></div>
        </section>

        <!-- Ë®≠ÂÆöÂçÄ -->
        <section class="settings-section">
            <h2>È°ØÁ§∫Ë®≠ÂÆö</h2>

            <!-- Â≠óÂûãÈÅ∏Êìá -->
            <div class="setting-row">
                <label for="fontSelector">Â≠óÂûã</label>
                <select id="fontSelector">
                    <option value="NotoSans">Noto SansÔºàÈ†êË®≠Ôºâ</option>
                    <optgroup label="ÁπÅÈ´î‰∏≠Êñá">
                        <option value="Huninn">Á≤âÂúìÈ´î</option>
                        <option value="ChenYuluoyan">Ëæ∞ÂÆáËêΩÈõÅÈ´î</option>
                        <option value="ChiayiCityFont">ÂòâÂ∏ÇÈ´î</option>
                    </optgroup>
                    <optgroup label="Êó•Êñá">
                        <option value="ZenKakuGothicNew">Zen Ëßí„Ç¥„Ç∑„ÉÉ„ÇØ</option>
                        <option value="MPLUS1">M PLUS 1</option>
                        <option value="KiwiMaru">Kiwi Maru</option>
                    </optgroup>
                    <optgroup label="ÈüìÊñá">
                        <option value="NanumGothic">Nanum Gothic</option>
                        <option value="NanumBrushScript">Nanum Brush Script</option>
                        <option value="DoHyeon">Do Hyeon</option>
                        <option value="Sunflower">Sunflower</option>
                    </optgroup>
                </select>
            </div>

            <!-- Â≠óÈ´îÂ§ßÂ∞è -->
            <div class="setting-row">
                <label for="fontSizeSlider">Â§ßÂ∞è</label>
                <div class="slider-wrapper">
                    <input type="range" id="fontSizeSlider" min="20" max="120" value="40">
                    <span id="fontSizeValue">40px</span>
                </div>
            </div>

            <!-- È´ò‰∫ÆÈ°èËâ≤ -->
            <div class="setting-row">
                <label>È´ò‰∫ÆÈ°èËâ≤</label>
                <div class="color-preset-grid">
                    <button class="color-preset-btn" data-color="#80D9E5" style="background-color: #80D9E5;" title="Ê∑∫ËóçÁ∂†"></button>
                    <button class="color-preset-btn" data-color="#FF6B9D" style="background-color: #FF6B9D;" title="Á≤âÁ¥Ö"></button>
                    <button class="color-preset-btn" data-color="#FFD700" style="background-color: #FFD700;" title="ÈáëÈªÉ"></button>
                    <button class="color-preset-btn" data-color="#98FB98" style="background-color: #98FB98;" title="Ê∑∫Á∂†"></button>
                    <button class="color-preset-btn" data-color="#DA70D6" style="background-color: #DA70D6;" title="Á¥´Ëâ≤"></button>
                    <button class="color-preset-btn" data-color="#FFA500" style="background-color: #FFA500;" title="Ê©òËâ≤"></button>
                    <button class="color-preset-btn" data-color="#87CEEB" style="background-color: #87CEEB;" title="Â§©Ëóç"></button>
                    <button class="color-preset-btn" data-color="#FFFACD" style="background-color: #FFFACD;" title="Ê™∏Ê™¨ÈªÉ"></button>
                    <button class="color-preset-btn" data-color="#98FF98" style="background-color: #98FF98;" title="ËñÑËç∑Á∂†"></button>
                    <button class="color-preset-btn" data-color="#FF7F50" style="background-color: #FF7F50;" title="ÁèäÁëöÁ¥Ö"></button>
                    <button class="color-preset-btn color-custom-btn" id="customColorBtn" title="Ëá™Ë®ÇÈ°èËâ≤">
                        <span>+</span>
                    </button>
                </div>
                <!-- Èö±ËóèÁöÑ color picker -->
                <input type="color" id="highlightColor" value="#80D9E5" style="display: none;">
            </div>

            <!-- Èô∞ÂΩ±È°èËâ≤ -->
            <div class="setting-row">
                <label for="shadowColor">Èô∞ÂΩ±È°èËâ≤</label>
                <input type="color" id="shadowColor" value="#1D1B1B">
            </div>

            <!-- ËßíËâ≤È°èËâ≤ -->
            <div class="setting-row role-colors-row">
                <label>ËßíËâ≤È°èËâ≤</label>
                <div class="role-color-container">
                    <div class="role-color-item">
                        <label for="role1Color">1 Áî∑ËÅ≤</label>
                        <input type="color" id="role1Color" value="#FF6B9D">
                    </div>
                    <div class="role-color-item">
                        <label for="role2Color">2 Â•≥ËÅ≤</label>
                        <input type="color" id="role2Color" value="#98FB98">
                    </div>
                    <div class="role-color-item">
                        <label for="role3Color">3 ÂêàËÅ≤</label>
                        <input type="color" id="role3Color" value="#FFD700">
                    </div>
                </div>
            </div>

            <!-- ÊôÇÈñìÂÅèÁßª -->
            <div class="setting-row">
                <label for="timeOffset">ÊôÇÈñìÂÅèÁßª</label>
                <div class="slider-wrapper">
                    <input type="range" id="timeOffset" min="-100" max="100" value="0" step="5">
                    <span id="timeOffsetValue">0.00s</span>
                </div>
            </div>
        </section>

        <!-- Â∫ïÈÉ®ÈÄ£Áµê -->
        <footer class="footer">
            <a href="#" id="openOptions">ÁÆ°ÁêÜÊ≠åË©ûÂ∫´</a>
        </footer>
    </div>

    <script src="../lib/subtitle-parser.js"></script>
    <script src="popup.js"></script>
</body>
</html>
